import"../chunks/Bzak7iHL.js";import{p as Ee,d as M,f as ge,h as c,g as r,t as S,a as m,b as He,e as Ne,s as a,$ as Se,j as $,r as t,i as e,u as Y,n as Te,k as xe,c as Oe}from"../chunks/DCMERdpK.js";import{d as Ve,s as y}from"../chunks/8jpNibKI.js";import{i as X}from"../chunks/CXnZBGaQ.js";import{e as Z,i as ee}from"../chunks/Bl9qzA8i.js";import{h as Xe}from"../chunks/B1_jHp8y.js";import{a as te,e as ae}from"../chunks/x6CrTqHQ.js";import{r as D,a as Q,s as De}from"../chunks/kEpiv2GH.js";import{s as R,c as Ge}from"../chunks/DDc__TWD.js";import{b as be}from"../chunks/D99Ln1cZ.js";import{b as fe}from"../chunks/DJx1vyyp.js";var Le=M("<button> </button>"),$e=M('<span class="px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full">Pausado</span>'),Ie=xe('<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>'),Fe=xe('<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>'),Je=M('<div class="p-4 flex items-center gap-4"><div><span> </span></div> <div class="flex-1 min-w-0"><div class="flex items-center gap-2"><h3 class="font-medium text-gray-900 truncate"> </h3> <!></div> <p class="text-sm text-gray-500"> </p></div> <div class="flex items-center gap-2"><button class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors" title="Editar"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button> <form method="POST" action="?/toggle"><input type="hidden" name="therapist_service_id"/> <button type="submit"><!></button></form> <form method="POST" action="?/remove"><input type="hidden" name="therapist_service_id"/> <button type="submit" class="p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors" title="Eliminar"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></form></div></div>'),Ke=M('<div class="bg-white rounded-xl border border-gray-100"><div class="p-4 border-b border-gray-100"><h2 class="font-semibold text-gray-900"> </h2></div> <div class="divide-y divide-gray-100"></div></div>'),Qe=M('<div class="bg-white rounded-xl border border-gray-100 p-8 text-center"><div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg></div> <h3 class="text-lg font-medium text-gray-900 mb-2">No tienes servicios configurados</h3> <p class="text-gray-500 mb-4">Agrega servicios del cat√°logo para que los clientes puedan reservar contigo</p></div>'),Re=M('<p class="text-sm text-gray-500 truncate"> </p>'),Ue=M('<span class="text-sm text-green-600 font-medium flex items-center gap-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Agregado</span>'),We=M('<button class="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium">Agregar</button>'),Ye=M('<div><div class="flex-1 min-w-0"><h4 class="font-medium text-gray-900"> </h4> <!> <p class="text-xs text-gray-400 mt-1"> </p></div> <!></div>'),Ze=M('<div class="p-4"><h3 class="text-sm font-medium text-gray-500 mb-3"> </h3> <div class="grid gap-3"></div></div>'),et=M('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"><div class="bg-white rounded-xl max-w-md w-full p-6"><h2 class="text-xl font-bold text-gray-900 mb-2">Agregar Servicio</h2> <p class="text-gray-500 mb-4"> </p> <form method="POST" action="?/add" class="space-y-4"><input type="hidden" name="service_id"/> <input type="hidden" name="price_cents"/> <div><label for="price" class="block text-sm font-medium text-gray-700 mb-1">Precio (MXN)</label> <div class="relative"><span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-500">$</span> <input type="number" id="price" min="0" step="50" class="input-wellness pl-8" required/></div> <p class="text-xs text-gray-500 mt-1"> </p></div> <div><label for="duration" class="block text-sm font-medium text-gray-700 mb-1">Duraci√≥n (minutos)</label> <select id="duration" name="duration_minutes" class="input-wellness"><option>30 minutos</option><option>45 minutos</option><option>1 hora</option><option>1 hora 30 min</option><option>2 horas</option></select></div> <div class="flex gap-3 pt-4"><button type="button" class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">Cancelar</button> <button type="submit" class="flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50"> </button></div></form></div></div>'),tt=M('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"><div class="bg-white rounded-xl max-w-md w-full p-6"><h2 class="text-xl font-bold text-gray-900 mb-2">Editar Servicio</h2> <p class="text-gray-500 mb-4"> </p> <form method="POST" action="?/update" class="space-y-4"><input type="hidden" name="therapist_service_id"/> <input type="hidden" name="price_cents"/> <div><label for="edit_price" class="block text-sm font-medium text-gray-700 mb-1">Precio (MXN)</label> <div class="relative"><span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-500">$</span> <input type="number" id="edit_price" min="0" step="50" class="input-wellness pl-8" required/></div></div> <div><label for="edit_duration" class="block text-sm font-medium text-gray-700 mb-1">Duraci√≥n (minutos)</label> <select id="edit_duration" name="duration_minutes" class="input-wellness"><option>30 minutos</option><option>45 minutos</option><option>1 hora</option><option>1 hora 30 min</option><option>2 horas</option></select></div> <div class="flex gap-3 pt-4"><button type="button" class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">Cancelar</button> <button type="submit" class="flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50"> </button></div></form></div></div>'),at=M('<div class="space-y-6"><div><h1 class="text-2xl font-bold text-gray-900">Mis Servicios</h1> <p class="text-gray-500">Configura los servicios que ofreces y sus precios</p></div> <div class="flex gap-2 overflow-x-auto pb-2"><button>Todos</button> <!></div> <!> <div class="bg-white rounded-xl border border-gray-100"><div class="p-4 border-b border-gray-100"><h2 class="font-semibold text-gray-900">Agregar Servicios</h2> <p class="text-sm text-gray-500">Selecciona los servicios que deseas ofrecer</p></div> <div class="divide-y divide-gray-100"></div></div></div> <!> <!>',1);function mt(ye,I){Ee(I,!0);let he=Y(()=>new Set(I.data.myServices.map(i=>i.service_id))),T=$("all"),re=$(!1),G=$(null),F=$(null),O=$(0),J=$(60),V=$(!1),we=Y(()=>()=>{const i=new Map;for(const s of I.data.allServices){const d=s.categories;i.has(d.id)||i.set(d.id,{category:d,services:[]}),i.get(d.id).services.push(s)}return Array.from(i.values())}),ie=Y(()=>e(T)==="all"?I.data.myServices:I.data.myServices.filter(i=>i.services.category_id===e(T)));function ke(i){c(G,i,!0),c(O,i.default_price_cents/100),c(J,i.default_duration_minutes,!0),c(re,!0)}function Me(i){c(F,i,!0),c(O,i.price_cents/100),c(J,i.duration_minutes,!0)}function W(){c(re,!1),c(G,null),c(F,null)}function oe(i){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(i/100)}var ve=at();Xe("pvtyf9",i=>{Ne(()=>{Se.title="Mis Servicios - Plenura"})});var se=ge(ve),ne=a(r(se),2),de=r(ne);de.__click=()=>c(T,"all");var Ae=a(de,2);Z(Ae,17,()=>I.data.categories,ee,(i,s)=>{var d=Le();d.__click=()=>c(T,e(s).id,!0);var g=r(d,!0);t(d),S(()=>{R(d,1,`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${e(T)===e(s).id?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`),y(g,e(s).name_es||e(s).name)}),m(i,d)}),t(ne);var ce=a(ne,2);{var Pe=i=>{var s=Ke(),d=r(s),g=r(d),L=r(g);t(g),t(d);var b=a(d,2);Z(b,21,()=>e(ie),ee,(h,n)=>{var w=Je(),f=r(w),j=r(f),u=r(j,!0);t(j),t(f);var A=a(f,2),p=r(A),_=r(p),k=r(_,!0);t(_);var C=a(_,2);{var B=v=>{var P=$e();m(v,P)};X(C,v=>{e(n).is_active||v(B)})}t(p);var z=a(p,2),E=r(z);t(z),t(A);var q=a(A,2),H=r(q);H.__click=()=>Me(e(n));var l=a(H,2),N=r(l);D(N);var o=a(N,2),x=r(o);{var K=v=>{var P=Ie();m(v,P)},qe=v=>{var P=Fe();m(v,P)};X(x,v=>{e(n).is_active?v(K):v(qe,!1)})}t(o),t(l),te(l,(v,P)=>{var U;return(U=ae)==null?void 0:U(v,P)},()=>()=>async({update:v})=>{await v()});var le=a(l,2),_e=r(le);D(_e),Te(2),t(le),te(le,(v,P)=>{var U;return(U=ae)==null?void 0:U(v,P)},()=>()=>confirm("¬øEst√°s seguro de eliminar este servicio?")?async({update:v})=>{await v()}:()=>{}),t(q),t(w),S(v=>{var P;R(f,1,`w-10 h-10 rounded-lg flex items-center justify-center ${e(n).is_active?"bg-primary-100":"bg-gray-100"}`),R(j,1,Ge(e(n).is_active?"text-primary-600":"text-gray-400")),y(u,((P=e(n).services.categories)==null?void 0:P.icon)||"‚ú®"),y(k,e(n).services.name_es||e(n).services.name),y(E,`${v??""} ¬∑ ${e(n).duration_minutes??""} min`),Q(N,e(n).id),R(o,1,`p-2 rounded-lg transition-colors ${e(n).is_active?"text-amber-500 hover:text-amber-600 hover:bg-amber-50":"text-green-500 hover:text-green-600 hover:bg-green-50"}`),De(o,"title",e(n).is_active?"Pausar":"Activar"),Q(_e,e(n).id)},[()=>oe(e(n).price_cents)]),m(h,w)}),t(b),t(s),S(()=>y(L,`Servicios Activos (${e(ie).length??""})`)),m(i,s)},je=i=>{var s=Qe();m(i,s)};X(ce,i=>{e(ie).length>0?i(Pe):i(je,!1)})}var ue=a(ce,2),pe=a(r(ue),2);Z(pe,21,()=>e(we)(),ee,(i,s)=>{var d=Oe(),g=ge(d);{var L=b=>{var h=Ze(),n=r(h),w=r(n);t(n);var f=a(n,2);Z(f,21,()=>e(s).services,ee,(j,u)=>{const A=Y(()=>e(he).has(e(u).id));var p=Ye(),_=r(p),k=r(_),C=r(k,!0);t(k);var B=a(k,2);{var z=o=>{var x=Re(),K=r(x,!0);t(x),S(()=>y(K,e(u).description)),m(o,x)};X(B,o=>{e(u).description&&o(z)})}var E=a(B,2),q=r(E);t(E),t(_);var H=a(_,2);{var l=o=>{var x=Ue();m(o,x)},N=o=>{var x=We();x.__click=()=>ke(e(u)),m(o,x)};X(H,o=>{e(A)?o(l):o(N,!1)})}t(p),S(o=>{R(p,1,`flex items-center gap-4 p-3 rounded-lg border ${e(A)?"border-gray-100 bg-gray-50":"border-gray-200 hover:border-primary-200 hover:bg-primary-50/30"} transition-colors`),y(C,e(u).name_es||e(u).name),y(q,`Precio sugerido: ${o??""} ¬∑ ${e(u).default_duration_minutes??""}
											min`)},[()=>oe(e(u).default_price_cents)]),m(j,p)}),t(f),t(h),S(()=>y(w,`${(e(s).category.icon||"üìÅ")??""}
							${(e(s).category.name_es||e(s).category.name)??""}`)),m(b,h)};X(g,b=>{(e(T)==="all"||e(T)===e(s).category.id)&&b(L)})}m(i,d)}),t(pe),t(ue),t(se);var me=a(se,2);{var Ce=i=>{var s=et(),d=r(s),g=a(r(d),2),L=r(g,!0);t(g);var b=a(g,2),h=r(b);D(h);var n=a(h,2);D(n);var w=a(n,2),f=a(r(w),2),j=a(r(f),2);D(j),t(f);var u=a(f,2),A=r(u);t(u),t(w);var p=a(w,2),_=a(r(p),2),k=r(_);k.value=k.__value=30;var C=a(k);C.value=C.__value=45;var B=a(C);B.value=B.__value=60;var z=a(B);z.value=z.__value=90;var E=a(z);E.value=E.__value=120,t(_),t(p);var q=a(p,2),H=r(q);H.__click=W;var l=a(H,2),N=r(l,!0);t(l),t(q),t(b),te(b,(o,x)=>{var K;return(K=ae)==null?void 0:K(o,x)},()=>()=>(c(V,!0),async({update:o})=>{await o(),c(V,!1),W()})),t(d),t(s),S((o,x)=>{y(L,e(G).name_es||e(G).name),Q(h,e(G).id),Q(n,o),y(A,`Precio sugerido: ${x??""}`),l.disabled=e(V),y(N,e(V)?"Guardando...":"Agregar")},[()=>Math.round(e(O)*100),()=>oe(e(G).default_price_cents)]),be(j,()=>e(O),o=>c(O,o)),fe(_,()=>e(J),o=>c(J,o)),m(i,s)};X(me,i=>{e(re)&&e(G)&&i(Ce)})}var Be=a(me,2);{var ze=i=>{var s=tt(),d=r(s),g=a(r(d),2),L=r(g,!0);t(g);var b=a(g,2),h=r(b);D(h);var n=a(h,2);D(n);var w=a(n,2),f=a(r(w),2),j=a(r(f),2);D(j),t(f),t(w);var u=a(w,2),A=a(r(u),2),p=r(A);p.value=p.__value=30;var _=a(p);_.value=_.__value=45;var k=a(_);k.value=k.__value=60;var C=a(k);C.value=C.__value=90;var B=a(C);B.value=B.__value=120,t(A),t(u);var z=a(u,2),E=r(z);E.__click=W;var q=a(E,2),H=r(q,!0);t(q),t(z),t(b),te(b,(l,N)=>{var o;return(o=ae)==null?void 0:o(l,N)},()=>()=>(c(V,!0),async({update:l})=>{await l(),c(V,!1),W()})),t(d),t(s),S(l=>{y(L,e(F).services.name_es||e(F).services.name),Q(h,e(F).id),Q(n,l),q.disabled=e(V),y(H,e(V)?"Guardando...":"Guardar")},[()=>Math.round(e(O)*100)]),be(j,()=>e(O),l=>c(O,l)),fe(A,()=>e(J),l=>c(J,l)),m(i,s)};X(Be,i=>{e(F)&&i(ze)})}S(()=>R(de,1,`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${e(T)==="all"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`)),m(ye,ve),He()}Ve(["click"]);export{mt as component};
