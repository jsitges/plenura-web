import"../chunks/Bzak7iHL.js";import{p as Ue,j as v,o as b,d as _,t as K,i as d,a as f,b as Ve,e as Fe,s as i,g as a,h as l,$ as Ke,r as t,n,l as Ce}from"../chunks/DCMERdpK.js";import{s as p}from"../chunks/8jpNibKI.js";import{i as Z}from"../chunks/CXnZBGaQ.js";import{h as Ze}from"../chunks/B1_jHp8y.js";import{a as H,e as I}from"../chunks/x6CrTqHQ.js";import{a as Ae,r as x}from"../chunks/kEpiv2GH.js";import{s as He}from"../chunks/DDc__TWD.js";import{b as g}from"../chunks/D99Ln1cZ.js";import{i as J}from"../chunks/CzxsKxIF.js";var Ie=_('<div class="bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3"><svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> <p class="text-green-700"> </p></div>'),Je=_('<svg class="w-5 h-5 text-amber-600 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div><p class="font-medium text-amber-800">Verificación en proceso</p> <p class="text-sm text-amber-600">Tu perfil está siendo revisado. Te notificaremos cuando sea aprobado.</p></div>',1),Qe=_('<svg class="w-5 h-5 text-red-600 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <div><p class="font-medium text-red-800">Verificación rechazada</p> <p class="text-sm text-red-600">Por favor, contacta a soporte para más información.</p></div>',1),We=_('<div><div class="flex items-start gap-3"><!></div></div>'),Xe=_('<div class="space-y-6"><div><h1 class="text-2xl font-bold text-gray-900">Mi Perfil</h1> <p class="text-gray-500">Actualiza tu información personal y profesional</p></div> <!> <!> <form method="POST" action="?/updateUser" class="bg-white rounded-xl border border-gray-100"><div class="p-4 border-b border-gray-100"><h2 class="font-semibold text-gray-900">Datos Personales</h2></div> <div class="p-4 space-y-4"><div><label for="full_name" class="block text-sm font-medium text-gray-700 mb-1">Nombre completo *</label> <input type="text" id="full_name" name="full_name" required class="input-wellness" placeholder="Tu nombre completo"/></div> <div><label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label> <input type="email" id="email" disabled class="input-wellness bg-gray-50 text-gray-500"/> <p class="text-xs text-gray-500 mt-1">El email no puede ser modificado</p></div> <div><label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Teléfono</label> <input type="tel" id="phone" name="phone" class="input-wellness" placeholder="+52 55 1234 5678"/></div></div> <div class="p-4 bg-gray-50 border-t border-gray-100 flex justify-end"><button type="submit" class="btn-primary-gradient px-6 py-2 disabled:opacity-50"> </button></div></form> <form method="POST" action="?/updateTherapist" class="bg-white rounded-xl border border-gray-100"><div class="p-4 border-b border-gray-100"><h2 class="font-semibold text-gray-900">Perfil Profesional</h2></div> <div class="p-4 space-y-4"><div><label for="bio" class="block text-sm font-medium text-gray-700 mb-1">Biografía / Descripción</label> <textarea id="bio" name="bio" rows="4" class="input-wellness resize-none" placeholder="Cuéntanos sobre ti, tu experiencia y enfoque..."></textarea> <p class="text-xs text-gray-500 mt-1">Esta descripción será visible en tu perfil público</p></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"><div><label for="years_of_experience" class="block text-sm font-medium text-gray-700 mb-1">Años de experiencia</label> <input type="number" id="years_of_experience" name="years_of_experience" min="0" max="50" class="input-wellness"/></div> <div><label for="service_radius_km" class="block text-sm font-medium text-gray-700 mb-1">Radio de servicio (km)</label> <input type="number" id="service_radius_km" name="service_radius_km" min="1" max="100" class="input-wellness"/> <p class="text-xs text-gray-500 mt-1">Distancia máxima para atención a domicilio</p></div></div></div> <div class="p-4 bg-gray-50 border-t border-gray-100 flex justify-end"><button type="submit" class="btn-primary-gradient px-6 py-2 disabled:opacity-50"> </button></div></form> <form method="POST" action="?/updateCertifications" class="bg-white rounded-xl border border-gray-100"><div class="p-4 border-b border-gray-100"><h2 class="font-semibold text-gray-900">Certificaciones</h2></div> <div class="p-4 space-y-4"><div><label for="certifications" class="block text-sm font-medium text-gray-700 mb-1">Tus certificaciones</label> <textarea id="certifications" name="certifications" rows="3" class="input-wellness resize-none" placeholder="Ej: Masaje Sueco, Reflexología, Aromaterapia..."></textarea> <p class="text-xs text-gray-500 mt-1">Separa cada certificación con una coma</p></div></div> <div class="p-4 bg-gray-50 border-t border-gray-100 flex justify-end"><button type="submit" class="btn-primary-gradient px-6 py-2 disabled:opacity-50"> </button></div></form> <div class="bg-white rounded-xl border border-gray-100 p-4"><h2 class="font-semibold text-gray-900 mb-4">Estadísticas</h2> <div class="grid grid-cols-2 sm:grid-cols-4 gap-4"><div class="text-center p-3 bg-gray-50 rounded-lg"><p class="text-2xl font-bold text-primary-600"> </p> <p class="text-sm text-gray-500">Calificación</p></div> <div class="text-center p-3 bg-gray-50 rounded-lg"><p class="text-2xl font-bold text-primary-600"> </p> <p class="text-sm text-gray-500">Reseñas</p></div> <div class="text-center p-3 bg-gray-50 rounded-lg"><p class="text-2xl font-bold text-primary-600 capitalize"> </p> <p class="text-sm text-gray-500">Plan</p></div> <div class="text-center p-3 bg-gray-50 rounded-lg"><p class="text-2xl font-bold text-primary-600"> </p> <p class="text-sm text-gray-500">Años exp.</p></div></div></div> <div class="bg-white rounded-xl border border-red-200"><div class="p-4 border-b border-red-100"><h2 class="font-semibold text-red-700">Zona de Peligro</h2></div> <div class="p-4"><div class="flex items-center justify-between"><div><p class="font-medium text-gray-900">Pausar mi cuenta</p> <p class="text-sm text-gray-500">Temporalmente oculta tu perfil de la búsqueda de clientes</p></div> <button type="button" class="px-4 py-2 border border-amber-300 text-amber-700 rounded-lg hover:bg-amber-50 transition-colors">Pausar</button></div></div></div></div>');function la(Me,o){var Pe,ke,je,Te,ze;Ue(o,!0);let y=v(!1),h=v(!1),w=v(!1),P=v(""),Q=v(b(((Pe=o.data.userProfile)==null?void 0:Pe.full_name)??"")),W=v(b(((ke=o.data.userProfile)==null?void 0:ke.phone)??"")),X=v(b(((je=o.data.therapistProfile)==null?void 0:je.bio)??"")),Y=v(b(((Te=o.data.therapistProfile)==null?void 0:Te.years_of_experience)??0)),$=v(b(((ze=o.data.therapistProfile)==null?void 0:ze.service_radius_km)??15)),Ee=()=>{var r;const e=(r=o.data.therapistProfile)==null?void 0:r.certification_details;return Array.isArray(e)?e.join(", "):""};function A(e){l(P,e,!0),setTimeout(()=>{l(P,"")},3e3)}var M=Xe();Ze("ji58za",e=>{Fe(()=>{Ke.title="Mi Perfil - Plenura"})});var ee=i(a(M),2);{var Ge=e=>{var r=Ie(),s=i(a(r),2),m=a(s,!0);t(s),t(r),K(()=>p(m,d(P))),f(e,r)};Z(ee,e=>{d(P)&&e(Ge)})}var ae=i(ee,2);{var Se=e=>{var r=We(),s=a(r),m=a(s);{var z=c=>{var u=Je();n(2),f(c,u)},C=c=>{var u=Qe();n(2),f(c,u)};Z(m,c=>{var u;((u=o.data.therapistProfile)==null?void 0:u.vetting_status)==="pending"?c(z):c(C,!1)})}t(s),t(r),K(()=>{var c;return He(r,1,`rounded-xl p-4 ${((c=o.data.therapistProfile)==null?void 0:c.vetting_status)==="pending"?"bg-amber-50 border border-amber-200":"bg-red-50 border border-red-200"}`)}),f(e,r)};Z(ae,e=>{var r;((r=o.data.therapistProfile)==null?void 0:r.vetting_status)!=="approved"&&e(Se)})}var k=i(ae,2),E=i(a(k),2),G=a(E),te=i(a(G),2);x(te),t(G);var S=i(G,2),re=i(a(S),2);x(re),n(2),t(S);var ie=i(S,2),se=i(a(ie),2);x(se),t(ie),t(E);var oe=i(E,2),B=a(oe),Be=a(B,!0);t(B),t(oe),t(k),H(k,(e,r)=>{var s;return(s=I)==null?void 0:s(e,r)},()=>()=>(l(y,!0),async({result:e,update:r})=>{l(y,!1),e.type==="success"&&(A("Datos personales actualizados"),await J()),await r()}));var j=i(k,2),D=i(a(j),2),O=a(D),de=i(a(O),2);Ce(de),n(2),t(O);var le=i(O,2),R=a(le),ne=i(a(R),2);x(ne),t(R);var ce=i(R,2),ve=i(a(ce),2);x(ve),n(2),t(ce),t(le),t(D);var pe=i(D,2),q=a(pe),De=a(q,!0);t(q),t(pe),t(j),H(j,(e,r)=>{var s;return(s=I)==null?void 0:s(e,r)},()=>()=>(l(h,!0),async({result:e,update:r})=>{l(h,!1),e.type==="success"&&(A("Perfil profesional actualizado"),await J()),await r()}));var T=i(j,2),L=i(a(T),2),me=a(L),ue=i(a(me),2);Ce(ue),n(2),t(me),t(L);var be=i(L,2),N=a(be),Oe=a(N,!0);t(N),t(be),t(T),H(T,(e,r)=>{var s;return(s=I)==null?void 0:s(e,r)},()=>()=>(l(w,!0),async({result:e,update:r})=>{l(w,!1),e.type==="success"&&(A("Certificaciones actualizadas"),await J()),await r()}));var fe=i(T,2),xe=i(a(fe),2),U=a(xe),ge=a(U),Re=a(ge,!0);t(ge),n(2),t(U);var V=i(U,2),_e=a(V),qe=a(_e,!0);t(_e),n(2),t(V);var F=i(V,2),ye=a(F),Le=a(ye,!0);t(ye),n(2),t(F);var he=i(F,2),we=a(he),Ne=a(we,!0);t(we),n(2),t(he),t(xe),t(fe),n(2),t(M),K((e,r)=>{var s,m,z,C;Ae(re,((s=o.data.userProfile)==null?void 0:s.email)??""),B.disabled=d(y),p(Be,d(y)?"Guardando...":"Guardar"),q.disabled=d(h),p(De,d(h)?"Guardando...":"Guardar"),Ae(ue,e),N.disabled=d(w),p(Oe,d(w)?"Guardando...":"Guardar"),p(Re,r),p(qe,((m=o.data.therapistProfile)==null?void 0:m.rating_count)??0),p(Le,((z=o.data.therapistProfile)==null?void 0:z.subscription_tier)??"free"),p(Ne,((C=o.data.therapistProfile)==null?void 0:C.years_of_experience)??0)},[Ee,()=>{var e,r;return((r=(e=o.data.therapistProfile)==null?void 0:e.rating_avg)==null?void 0:r.toFixed(1))??"0.0"}]),g(te,()=>d(Q),e=>l(Q,e)),g(se,()=>d(W),e=>l(W,e)),g(de,()=>d(X),e=>l(X,e)),g(ne,()=>d(Y),e=>l(Y,e)),g(ve,()=>d($),e=>l($,e)),f(Me,M),Ve()}export{la as component};
