import"../chunks/Bzak7iHL.js";import{p as va,o as U,j as X,d as b,t as k,a as m,b as ua,e as ma,s as n,g as s,$ as ba,r as t,h as G,i as o,n as fa,f as _a}from"../chunks/DCMERdpK.js";import{d as ya,s as y}from"../chunks/8jpNibKI.js";import{i as Y}from"../chunks/CXnZBGaQ.js";import{e as O,i as V}from"../chunks/Bl9qzA8i.js";import{h as ga}from"../chunks/B1_jHp8y.js";import{a as Z,e as $}from"../chunks/x6CrTqHQ.js";import{r as xa,s as B}from"../chunks/kEpiv2GH.js";import{s as H}from"../chunks/DDc__TWD.js";import{a as ha}from"../chunks/D99Ln1cZ.js";import{b as aa}from"../chunks/DJx1vyyp.js";var wa=b('<div class="bg-amber-50 border border-amber-200 rounded-xl p-4"><div class="flex items-start gap-3"><svg class="w-5 h-5 text-amber-600 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <div><p class="font-medium text-amber-800">No estás visible para los clientes</p> <p class="text-sm text-amber-600">Activa tu disponibilidad para que los clientes puedan reservar contigo</p></div></div></div>'),ka=b("<option> </option>"),Sa=b("<option> </option>"),ja=b('<div class="flex items-center gap-3 flex-1"><select class="input-wellness py-2"></select> <span class="text-gray-500">a</span> <select class="input-wellness py-2"></select></div> <div class="flex items-center gap-2"><button type="button" class="text-xs text-primary-600 hover:text-primary-700 whitespace-nowrap">Copiar a L-V</button> <span class="text-gray-300">|</span> <button type="button" class="text-xs text-primary-600 hover:text-primary-700 whitespace-nowrap">Copiar a todos</button></div>',1),Aa=b('<span class="text-sm text-gray-400 italic">No disponible</span>'),Da=b('<div class="p-4 flex flex-col sm:flex-row sm:items-center gap-4"><div class="flex items-center gap-3 sm:w-40"><input type="checkbox" class="h-5 w-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500"/> <span class="font-medium text-gray-700"> </span></div> <!></div>'),Ca=b('<div class="space-y-6"><div class="flex items-center justify-between"><div><h1 class="text-2xl font-bold text-gray-900">Disponibilidad</h1> <p class="text-gray-500">Configura tu horario de atención</p></div> <form method="POST" action="?/toggleAvailable"><button type="submit"><span></span> <span> </span></button></form></div> <!> <form method="POST" action="?/save" class="bg-white rounded-xl border border-gray-100"><div class="p-4 border-b border-gray-100"><h2 class="font-semibold text-gray-900">Horario Semanal</h2> <p class="text-sm text-gray-500">Define los días y horarios en los que estás disponible</p></div> <div class="divide-y divide-gray-100"></div> <div class="p-4 bg-gray-50 border-t border-gray-100 flex justify-end"><button type="submit" class="btn-primary-gradient px-6 py-2 disabled:opacity-50"> </button></div></form> <div class="bg-blue-50 border border-blue-200 rounded-xl p-4"><h3 class="font-medium text-blue-800 mb-2">Consejos</h3> <ul class="text-sm text-blue-700 space-y-1"><li>• Los clientes solo pueden reservar dentro de tu horario disponible</li> <li>• Deja tiempo entre citas para desplazamiento</li> <li>• Puedes bloquear días específicos desde tu calendario</li></ul></div></div>');function Ha(ea,S){va(S,!0);const J=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];let i=U(J.map((e,r)=>{const a=S.data.availability.find(c=>c.day_of_week===r);return{active:!!a,start:(a==null?void 0:a.start_time)??"09:00",end:(a==null?void 0:a.end_time)??"18:00"}})),p=X(U(S.data.isAvailable)),g=X(!1);function ta(e){const r=i[e];for(let a=1;a<=5;a++)i[a]={...r}}function ra(e){const r=i[e];for(let a=0;a<7;a++)i[a]={...r}}const W=Array.from({length:48},(e,r)=>{const a=Math.floor(r/2),c=r%2*30;return`${a.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`});var j=Ca();ga("1br3n9w",e=>{ma(()=>{ba.title="Disponibilidad - Plenura"})});var A=s(j),D=n(s(A),2),C=s(D),E=s(C),L=n(E,2),sa=s(L,!0);t(L),t(C),t(D),Z(D,(e,r)=>{var a;return(a=$)==null?void 0:a(e,r)},()=>()=>async({update:e})=>{G(p,!o(p)),await e()}),t(A);var F=n(A,2);{var oa=e=>{var r=wa();m(e,r)};Y(F,e=>{o(p)||e(oa)})}var M=n(F,2),N=n(s(M),2);O(N,21,()=>J,V,(e,r,a)=>{var c=Da(),T=s(c),x=s(T);xa(x),B(x,"name",`day_${a}_active`);var K=n(x,2),la=s(K,!0);t(K),t(T);var na=n(T,2);{var da=d=>{var h=ja(),q=_a(h),f=s(q);B(f,"name",`day_${a}_start`),O(f,21,()=>W,V,(v,u)=>{var l=ka(),z=s(l,!0);t(l);var _={};k(()=>{y(z,o(u)),_!==(_=o(u))&&(l.value=(l.__value=o(u))??"")}),m(v,l)}),t(f);var w=n(f,4);B(w,"name",`day_${a}_end`),O(w,21,()=>W,V,(v,u)=>{var l=Sa(),z=s(l,!0);t(l);var _={};k(()=>{y(z,o(u)),_!==(_=o(u))&&(l.value=(l.__value=o(u))??"")}),m(v,l)}),t(w),t(q);var Q=n(q,2),R=s(Q);R.__click=()=>ta(a);var ca=n(R,4);ca.__click=()=>ra(a),t(Q),aa(f,()=>i[a].start,v=>i[a].start=v),aa(w,()=>i[a].end,v=>i[a].end=v),m(d,h)},pa=d=>{var h=Aa();m(d,h)};Y(na,d=>{i[a].active?d(da):d(pa,!1)})}t(c),k(()=>y(la,o(r))),ha(x,()=>i[a].active,d=>i[a].active=d),m(e,c)}),t(N);var I=n(N,2),P=s(I),ia=s(P,!0);t(P),t(I),t(M),Z(M,(e,r)=>{var a;return(a=$)==null?void 0:a(e,r)},()=>()=>(G(g,!0),async({update:e})=>{await e(),G(g,!1)})),fa(2),t(j),k(()=>{H(C,1,`flex items-center gap-3 px-4 py-2 rounded-lg border ${o(p)?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`),H(E,1,`w-3 h-3 rounded-full ${o(p)?"bg-green-500":"bg-gray-400"}`),H(L,1,`font-medium ${o(p)?"text-green-700":"text-gray-600"}`),y(sa,o(p)?"Disponible":"No disponible"),P.disabled=o(g),y(ia,o(g)?"Guardando...":"Guardar cambios")}),m(ea,j),ua()}ya(["click"]);export{Ha as component};
