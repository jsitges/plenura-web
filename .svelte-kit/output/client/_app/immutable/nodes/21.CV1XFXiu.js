import"../chunks/Bzak7iHL.js";import{p as Ya,j as Y,o as Za,d as p,s as i,t as u,a as l,b as $a,i as s,h as T,C as ae,g as t,$ as ee,r as e,n as xa,f as ha,k as Z,u as re}from"../chunks/DCMERdpK.js";import{d as te,s as d}from"../chunks/8jpNibKI.js";import{i as h}from"../chunks/CXnZBGaQ.js";import{e as R,i as U}from"../chunks/Bl9qzA8i.js";import{h as se}from"../chunks/B1_jHp8y.js";import{s as N}from"../chunks/kEpiv2GH.js";import{s as ba}from"../chunks/DDc__TWD.js";import{c as ie}from"../chunks/CfUxREeX.js";import"../chunks/Bqkp701z.js";var oe=p('<img class="w-full h-full object-cover"/>'),ve=p('<div class="w-full h-full bg-primary-100 flex items-center justify-center"><span class="text-3xl text-primary-600"> </span></div>'),le=p('<span class="text-gray-400">•</span> <span class="text-gray-600"> </span>',1),ne=Z('<svg class="w-6 h-6 text-red-500" fill="currentColor" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></svg>'),de=Z('<svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg>'),ce=p('<div class="bg-white rounded-xl border border-gray-100 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-3">Acerca de mí</h2> <p class="text-gray-600 whitespace-pre-line"> </p></div>'),pe=p('<p class="text-sm text-gray-500 mt-1"> </p>'),me=p('<button type="button"><div class="flex items-center justify-between"><div><h3 class="font-medium text-gray-900"> </h3> <!> <p class="text-sm text-gray-400 mt-1"> </p></div> <div class="text-right"><p class="text-lg font-semibold text-primary-600"> </p></div></div></button>'),_e=p('<p class="text-gray-500 text-center py-4">No hay servicios disponibles actualmente</p>'),ue=p('<div class="flex items-center justify-between py-2 border-b border-gray-50 last:border-0"><span class="font-medium text-gray-700"> </span> <span class="text-gray-600"> </span></div>'),ge=p('<div class="bg-white rounded-xl border border-gray-100 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">Horario</h2> <div class="space-y-2"></div></div>'),fe=p('<img alt="" class="w-full h-full rounded-full object-cover"/>'),xe=p('<span class="text-gray-500 text-sm"> </span>'),he=Z('<svg fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>'),be=p('<p class="text-gray-600 text-sm"> </p>'),ye=p('<div class="mt-3 bg-gray-50 rounded-lg p-3"><p class="text-sm text-gray-500 font-medium mb-1">Respuesta del terapeuta:</p> <p class="text-sm text-gray-600"> </p></div>'),we=p('<div class="border-b border-gray-100 last:border-0 pb-4 last:pb-0"><div class="flex items-start gap-3"><div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0"><!></div> <div class="flex-1"><div class="flex items-center justify-between"><span class="font-medium text-gray-900"> </span> <span class="text-sm text-gray-400"> </span></div> <div class="flex items-center gap-0.5 my-1"></div> <!> <!></div></div></div>'),ke=p('<div class="space-y-4"></div>'),je=p('<p class="text-gray-500 text-center py-4">Aún no hay reseñas para este terapeuta</p>'),Ce=p('<div class="bg-primary-50 rounded-lg p-4 mb-4"><p class="font-medium text-gray-900"> </p> <p class="text-sm text-gray-600"> </p> <p class="text-lg font-semibold text-primary-600 mt-1"> </p></div>'),Me=p('<!> <a class="block w-full btn-primary-gradient text-center py-3">Seleccionar fecha</a>',1),Se=p('<p class="text-gray-500 text-sm mb-4">Selecciona un servicio para continuar</p> <button type="button" disabled class="w-full py-3 bg-gray-100 text-gray-400 rounded-lg cursor-not-allowed">Seleccionar fecha</button>',1),Ae=p('<div class="max-w-4xl mx-auto space-y-8"><a href="/therapists" class="inline-flex items-center text-gray-600 hover:text-primary-600 transition-colors"><svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> Volver a búsqueda</a> <div class="bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden"><div class="bg-gradient-to-r from-primary-500 to-primary-600 h-32"></div> <div class="px-6 pb-6"><div class="flex flex-col sm:flex-row sm:items-end gap-4 -mt-12"><div class="w-24 h-24 rounded-2xl bg-white border-4 border-white shadow-lg flex items-center justify-center overflow-hidden"><!></div> <div class="flex-1"><div class="flex items-start justify-between"><div><h1 class="text-2xl font-bold text-gray-900"> </h1> <div class="flex items-center gap-4 mt-1"><div class="flex items-center gap-1"><span class="text-yellow-500 text-lg">★</span> <span class="font-semibold"> </span> <span class="text-gray-400"> </span></div> <!></div></div> <button type="button" class="p-2 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50"><!></button></div></div></div></div></div> <div class="grid lg:grid-cols-3 gap-8"><div class="lg:col-span-2 space-y-6"><!> <div class="bg-white rounded-xl border border-gray-100 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">Servicios</h2> <div class="space-y-3"><!> <!></div></div> <!> <div class="bg-white rounded-xl border border-gray-100 p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4"> </h2> <!></div></div> <div class="lg:col-span-1"><div class="bg-white rounded-xl border border-gray-100 p-6 sticky top-24"><h3 class="font-semibold text-gray-900 mb-4">Reservar cita</h3> <!> <div class="mt-6 pt-6 border-t border-gray-100"><div class="flex items-center gap-3 text-sm text-gray-600"><svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg> <span>Terapeuta verificado</span></div> <div class="flex items-center gap-3 text-sm text-gray-600 mt-2"><svg class="w-5 h-5 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg> <span>Pago seguro</span></div> <div class="flex items-center gap-3 text-sm text-gray-600 mt-2"><svg class="w-5 h-5 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> <span>Cancelación flexible</span></div></div></div></div></div></div>');function Ue(ya,S){var ga;Ya(S,!0);const $=ie(),_=S.data.therapist,wa=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];let L=Y(null),z=Y(Za(S.data.isFavorite)),P=Y(!1);function aa(a){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:0}).format(a)}function ea(a){const[r,v]=a.split(":"),o=parseInt(r),c=o>=12?"PM":"AM";return`${o%12||12}:${v} ${c}`}function ka(a){return new Date(a).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"})}async function ja(){if(!s(P)){T(P,!0);try{s(z)?await $.from("favorites").delete().eq("therapist_id",_.id):await $.from("favorites").insert({therapist_id:_.id}),T(z,!s(z))}catch(a){console.error("Error toggling favorite:",a)}finally{T(P,!1)}}}function Ca(a){T(L,s(L)===a?null:a,!0)}const V=((ga=_.therapist_services)==null?void 0:ga.filter(a=>a.is_active))??[];var X=Ae();se("1xl9819",a=>{ae(()=>{var r;ee.title=`${((r=_.users)==null?void 0:r.full_name)??"Terapeuta"??""} - Plenura`})});var q=i(t(X),2),ra=i(t(q),2),ta=t(ra),E=t(ta),Ma=t(E);{var Sa=a=>{var r=oe();u(()=>{N(r,"src",_.users.avatar_url),N(r,"alt",_.users.full_name??"")}),l(a,r)},Aa=a=>{var r=ve(),v=t(r),o=t(v,!0);e(v),e(r),u(c=>d(o,c),[()=>{var c;return(((c=_.users)==null?void 0:c.full_name)??"?")[0].toUpperCase()}]),l(a,r)};h(Ma,a=>{var r;(r=_.users)!=null&&r.avatar_url?a(Sa):a(Aa,!1)})}e(E);var sa=i(E,2),ia=t(sa),I=t(ia),J=t(I),Ba=t(J,!0);e(J);var oa=i(J,2),Q=t(oa),G=i(t(Q),2),La=t(G,!0);e(G);var va=i(G,2),za=t(va);e(va),e(Q);var Fa=i(Q,2);{var Da=a=>{var r=le(),v=i(ha(r),2),o=t(v);e(v),u(()=>d(o,`${_.years_of_experience??""} años exp.`)),l(a,r)};h(Fa,a=>{_.years_of_experience&&a(Da)})}e(oa),e(I);var F=i(I,2);F.__click=ja;var Ha=t(F);{var Na=a=>{var r=ne();l(a,r)},Pa=a=>{var r=de();l(a,r)};h(Ha,a=>{s(z)?a(Na):a(Pa,!1)})}e(F),e(ia),e(sa),e(ta),e(ra),e(q);var la=i(q,2),K=t(la),na=t(K);{var Ta=a=>{var r=ce(),v=i(t(r),2),o=t(v,!0);e(v),e(r),u(()=>d(o,_.bio)),l(a,r)};h(na,a=>{_.bio&&a(Ta)})}var O=i(na,2),da=i(t(O),2),ca=t(da);R(ca,17,()=>V,U,(a,r)=>{var v=me();v.__click=()=>Ca(s(r).id);var o=t(v),c=t(o),x=t(c),g=t(x,!0);e(x);var b=i(x,2);{var y=j=>{var f=pe(),H=t(f,!0);e(f),u(()=>d(H,s(r).services.description)),l(j,f)};h(b,j=>{var f;(f=s(r).services)!=null&&f.description&&j(y)})}var A=i(b,2),w=t(A);e(A),e(c);var k=i(c,2),C=t(k),D=t(C,!0);e(C),e(k),e(o),e(v),u(j=>{var f;ba(v,1,`w-full text-left p-4 rounded-xl border-2 transition-all ${s(L)===s(r).id?"border-primary-500 bg-primary-50":"border-gray-100 hover:border-gray-200"}`),d(g,(f=s(r).services)==null?void 0:f.name),d(w,`${s(r).duration_minutes??""} minutos`),d(D,j)},[()=>aa(s(r).price_cents/100)]),l(a,v)});var Ra=i(ca,2);{var Ua=a=>{var r=_e();l(a,r)};h(Ra,a=>{V.length===0&&a(Ua)})}e(da),e(O);var pa=i(O,2);{var Va=a=>{var r=ge(),v=i(t(r),2);R(v,21,()=>S.data.availability,U,(o,c)=>{var x=ue(),g=t(x),b=t(g,!0);e(g);var y=i(g,2),A=t(y);e(y),e(x),u((w,k)=>{d(b,wa[s(c).day_of_week]),d(A,`${w??""} - ${k??""}`)},[()=>ea(s(c).start_time),()=>ea(s(c).end_time)]),l(o,x)}),e(v),e(r),l(a,r)};h(pa,a=>{S.data.availability.length>0&&a(Va)})}var ma=i(pa,2),W=t(ma),Xa=t(W);e(W);var qa=i(W,2);{var Ea=a=>{var r=ke();R(r,21,()=>S.data.reviews,U,(v,o)=>{var c=we(),x=t(c),g=t(x),b=t(g);{var y=m=>{var n=fe();u(()=>N(n,"src",s(o).users.avatar_url)),l(m,n)},A=m=>{var n=xe(),B=t(n,!0);e(n),u(M=>d(B,M),[()=>{var M;return(((M=s(o).users)==null?void 0:M.full_name)??"?")[0].toUpperCase()}]),l(m,n)};h(b,m=>{var n;(n=s(o).users)!=null&&n.avatar_url?m(y):m(A,!1)})}e(g);var w=i(g,2),k=t(w),C=t(k),D=t(C,!0);e(C);var j=i(C,2),f=t(j,!0);e(j),e(k);var H=i(k,2);R(H,20,()=>Array(5),U,(m,n,B)=>{var M=he();u(()=>ba(M,0,`w-4 h-4 ${B<s(o).rating?"text-yellow-400":"text-gray-200"}`)),l(m,M)}),e(H);var fa=i(H,2);{var Ka=m=>{var n=be(),B=t(n,!0);e(n),u(()=>d(B,s(o).comment)),l(m,n)};h(fa,m=>{s(o).comment&&m(Ka)})}var Oa=i(fa,2);{var Wa=m=>{var n=ye(),B=i(t(n),2),M=t(B,!0);e(B),e(n),u(()=>d(M,s(o).therapist_response)),l(m,n)};h(Oa,m=>{s(o).therapist_response&&m(Wa)})}e(w),e(x),e(c),u(m=>{var n;d(D,((n=s(o).users)==null?void 0:n.full_name)??"Usuario"),d(f,m)},[()=>ka(s(o).created_at)]),l(v,c)}),e(r),l(a,r)},Ia=a=>{var r=je();l(a,r)};h(qa,a=>{S.data.reviews.length>0?a(Ea):a(Ia,!1)})}e(ma),e(K);var _a=i(K,2),ua=t(_a),Ja=i(t(ua),2);{var Qa=a=>{const r=re(()=>V.find(g=>g.id===s(L)));var v=Me(),o=ha(v);{var c=g=>{var b=Ce(),y=t(b),A=t(y,!0);e(y);var w=i(y,2),k=t(w);e(w);var C=i(w,2),D=t(C,!0);e(C),e(b),u(j=>{var f;d(A,(f=s(r).services)==null?void 0:f.name),d(k,`${s(r).duration_minutes??""} min`),d(D,j)},[()=>aa(s(r).price_cents/100)]),l(g,b)};h(o,g=>{s(r)&&g(c)})}var x=i(o,2);u(()=>N(x,"href",`/booking/new?therapist=${_.id??""}&service=${s(L)??""}`)),l(a,v)},Ga=a=>{var r=Se();xa(2),l(a,r)};h(Ja,a=>{s(L)?a(Qa):a(Ga,!1)})}xa(2),e(ua),e(_a),e(la),e(X),u(a=>{var r;d(Ba,((r=_.users)==null?void 0:r.full_name)??"Terapeuta"),d(La,a),d(za,`(${_.rating_count??""} reseñas)`),F.disabled=s(P),N(F,"aria-label",s(z)?"Quitar de favoritos":"Agregar a favoritos"),d(Xa,`Reseñas (${S.data.reviews.length??""})`)},[()=>_.rating_avg.toFixed(1)]),l(ya,X),$a()}te(["click"]);export{Ue as component};
