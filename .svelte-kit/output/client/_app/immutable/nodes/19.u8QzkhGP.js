import"../chunks/Bzak7iHL.js";import{p as we,d as v,a as i,b as Pe,e as ke,s as n,g as a,$ as Oe,r,n as ee,t as b,i as y,u as je,c as V,f as z,q as Me,h as E,j as re}from"../chunks/DCMERdpK.js";import{s as m}from"../chunks/8jpNibKI.js";import{i as p}from"../chunks/CXnZBGaQ.js";import{e as te,i as ae}from"../chunks/Bl9qzA8i.js";import{h as Te}from"../chunks/B1_jHp8y.js";import{a as se,e as ie}from"../chunks/x6CrTqHQ.js";import{r as Ce,a as De}from"../chunks/kEpiv2GH.js";import{s as qe}from"../chunks/DDc__TWD.js";var Fe=v('<div class="bg-green-50 border border-green-200 rounded-lg p-4 text-green-700"> </div>'),Le=v('<div class="bg-red-50 border border-red-200 rounded-lg p-4 text-red-700"> </div>'),Se=v('<p class="text-sm opacity-90 mt-1"> </p>'),Xe=v('<div class="bg-gradient-to-r from-primary-500 to-purple-500 rounded-xl p-6 text-white"><div class="flex items-center justify-between"><div><p class="text-sm opacity-90">Tu plan actual</p> <h2 class="text-2xl font-bold"> </h2> <!></div> <div class="text-right"><p class="text-3xl font-bold"> </p> <p class="text-sm opacity-90">comisión</p></div></div></div>'),Ae=v('<div class="absolute -top-3 left-1/2 -translate-x-1/2 bg-primary-500 text-white text-xs font-bold px-3 py-1 rounded-full">Popular</div>'),Ie=v('<div class="absolute -top-3 right-4 bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-full">Actual</div>'),Ne=v('<span class="text-gray-500">/mes</span>'),Be=v('<li class="flex items-start gap-2 text-sm"><svg class="w-5 h-5 text-green-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> <span class="text-gray-600"> </span></li>'),Ee=v('<form method="POST" action="?/cancel"><button type="submit" class="w-full py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 text-sm"> </button></form>'),Ge=v('<div class="py-2 px-4 bg-gray-100 rounded-lg text-center text-gray-500 text-sm">Plan actual</div>'),Qe=v('<form method="POST" action="?/upgrade"><input type="hidden" name="tier"/> <button type="submit" class="w-full py-2 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium disabled:opacity-50 text-sm"> </button></form>'),Re=v('<div class="py-2 px-4 bg-gray-100 rounded-lg text-center text-gray-400 text-sm">Plan inferior</div>'),Ue=v('<div><!> <!> <div class="text-center mb-6"><h3 class="text-lg font-bold text-gray-900"> </h3> <div class="mt-2"><span class="text-3xl font-bold text-gray-900"> </span> <!></div> <p class="mt-2 text-sm text-gray-600"> </p></div> <ul class="space-y-3 mb-6"></ul> <!></div>'),Ve=v(`<div class="space-y-6"><div><h1 class="text-2xl font-bold text-gray-900">Mi Plan</h1> <p class="text-gray-600 mt-1">Elige el plan que mejor se adapte a tu práctica</p></div> <!> <!> <!> <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-4"></div> <div class="bg-gray-50 rounded-xl p-6"><h3 class="font-semibold text-gray-900 mb-4">Preguntas Frecuentes</h3> <div class="space-y-4 text-sm"><div><p class="font-medium text-gray-900">¿Puedo cambiar de plan en cualquier momento?</p> <p class="text-gray-600 mt-1">Sí, puedes mejorar tu plan en cualquier momento. Los cambios se aplican inmediatamente.</p></div> <div><p class="font-medium text-gray-900">¿Qué pasa si cancelo mi suscripción?</p> <p class="text-gray-600 mt-1">Volverás al plan Free con 10% de comisión. Tus datos y clientes se mantienen.</p></div> <div><p class="font-medium text-gray-900">¿Cómo funciona la comisión?</p> <p class="text-gray-600 mt-1">La comisión se descuenta automáticamente de cada servicio completado antes de transferir
					tu pago.</p></div></div></div></div>`);function rr(oe,O){we(O,!0);const{currentTier:_,expiresAt:H,tiers:G}=O.data;let S=re(null),X=re(!1);const A=["free","pro","business","enterprise"];function ne(e){return e===0?"Gratis":new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:0}).format(e)}function de(e){return new Date(e).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"})}function le(e){switch(e){case"free":return"border-gray-200";case"pro":return"border-primary-500 ring-2 ring-primary-100";case"business":return"border-purple-500 ring-2 ring-purple-100";case"enterprise":return"border-amber-500 ring-2 ring-amber-100";default:return"border-gray-200"}}function ve(e){return A.indexOf(e)>A.indexOf(_)}function ce(e){return A.indexOf(e)<A.indexOf(_)}var Q=Ve();Te("k28xk2",e=>{ke(()=>{Oe.title="Mi Plan - Plenura"})});var J=n(a(Q),2);{var me=e=>{var s=Fe(),u=a(s,!0);r(s),b(()=>m(u,O.form.message)),i(e,s)};p(J,e=>{var s;(s=O.form)!=null&&s.success&&e(me)})}var K=n(J,2);{var pe=e=>{var s=Le(),u=a(s,!0);r(s),b(()=>m(u,O.form.error)),i(e,s)};p(K,e=>{var s;(s=O.form)!=null&&s.error&&e(pe)})}var W=n(K,2);{var ue=e=>{var s=Xe(),u=a(s),o=a(u),f=n(a(o),2),j=a(f,!0);r(f);var I=n(f,2);{var R=h=>{var D=Se(),q=a(D);r(D),b(F=>m(q,`Renueva el ${F??""}`),[()=>de(H)]),i(h,D)};p(I,h=>{H&&h(R)})}r(o);var T=n(o,2),N=a(T),C=a(N);r(N),ee(2),r(T),r(u),r(s),b(()=>{m(j,G[_].name),m(C,`${G[_].commission??""}%`)}),i(e,s)};p(W,e=>{_!=="free"&&e(ue)})}var Y=n(W,2);te(Y,21,()=>Object.entries(G),ae,(e,s)=>{var u=je(()=>Me(y(s),2));let o=()=>y(u)[0],f=()=>y(u)[1];var j=Ue(),I=a(j);{var R=t=>{var d=Ae();i(t,d)};p(I,t=>{o()==="pro"&&t(R)})}var T=n(I,2);{var N=t=>{var d=Ie();i(t,d)};p(T,t=>{_===o()&&t(N)})}var C=n(T,2),h=a(C),D=a(h,!0);r(h);var q=n(h,2),F=a(q),fe=a(F,!0);r(F);var ge=n(F,2);{var xe=t=>{var d=Ne();i(t,d)};p(ge,t=>{f().price>0&&t(xe)})}r(q);var Z=n(q,2),_e=a(Z);r(Z),r(C);var U=n(C,2);te(U,21,()=>f().features,ae,(t,d)=>{var w=Be(),M=n(a(w),2),L=a(M,!0);r(M),r(w),b(()=>m(L,y(d))),i(t,w)}),r(U);var be=n(U,2);{var ye=t=>{var d=V(),w=z(d);{var M=c=>{var l=Ee(),g=a(l),P=a(g,!0);r(g),r(l),se(l,(x,k)=>{var B;return(B=ie)==null?void 0:B(x,k)},()=>()=>(E(X,!0),async({update:x})=>{await x(),E(X,!1)})),b(()=>{g.disabled=y(X),m(P,y(X)?"Cancelando...":"Cancelar plan")}),i(c,l)},L=c=>{var l=Ge();i(c,l)};p(w,c=>{o()!=="free"?c(M):c(L,!1)})}i(t,d)},he=t=>{var d=V(),w=z(d);{var M=c=>{var l=Qe(),g=a(l);Ce(g);var P=n(g,2),x=a(P,!0);r(P),r(l),se(l,(k,B)=>{var $;return($=ie)==null?void 0:$(k,B)},()=>()=>(E(S,o(),!0),async({update:k})=>{await k(),E(S,null)})),b(()=>{De(g,o()),P.disabled=y(S)===o(),m(x,y(S)===o()?"Procesando...":"Mejorar plan")}),i(c,l)},L=c=>{var l=V(),g=z(l);{var P=x=>{var k=Re();i(x,k)};p(g,x=>{ce(o())&&x(P)},!0)}i(c,l)};p(w,c=>{ve(o())?c(M):c(L,!1)},!0)}i(t,d)};p(be,t=>{_===o()?t(ye):t(he,!1)})}r(j),b((t,d)=>{qe(j,1,`bg-white rounded-xl border-2 p-6 relative ${t??""} ${_===o()?"bg-gray-50":""}`),m(D,f().name),m(fe,d),m(_e,`${f().commission??""}% comisión`)},[()=>le(o()),()=>ne(f().price)]),i(e,j)}),r(Y),ee(2),r(Q),i(oe,Q),Pe()}export{rr as component};
