import"../chunks/Bzak7iHL.js";import{p as Re,d as y,a as i,b as Le,e as Me,$ as De,g as t,r as a,s,n as J,t as _,f as E,h as c,j as R,i as n,l as Se,m as h,c as K}from"../chunks/DCMERdpK.js";import{d as ze,s as m,e as se}from"../chunks/8jpNibKI.js";import{i as u}from"../chunks/CXnZBGaQ.js";import{e as Be,i as Ee}from"../chunks/Bl9qzA8i.js";import{h as Pe}from"../chunks/B1_jHp8y.js";import{a as Te,e as Qe}from"../chunks/x6CrTqHQ.js";import{r as N,a as ie,s as oe}from"../chunks/kEpiv2GH.js";import{s as qe}from"../chunks/DDc__TWD.js";import{b as He,a as Oe}from"../chunks/D99Ln1cZ.js";var Ue=y('<div class="bg-gray-50 rounded-lg p-4 text-left mb-4"><p class="text-gray-700 italic"> </p></div>'),Ve=y('<div class="bg-white rounded-xl border border-gray-100 p-6 text-center"><div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div> <h1 class="text-xl font-bold text-gray-900 mb-2">Ya dejaste tu reseña</h1> <p class="text-gray-500 mb-4"> </p> <!> <a href="/bookings" class="btn-primary-gradient inline-block px-6 py-2">Ver mis citas</a></div>'),Xe=y('<img class="w-full h-full rounded-full object-cover"/>'),Ye=y('<button type="button" class="p-1 transition-transform hover:scale-110 focus:outline-none"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg></button>'),Ae=y('<div class="bg-white rounded-xl border border-gray-100 overflow-hidden"><div class="p-6 border-b border-gray-100 text-center"><h1 class="text-xl font-bold text-gray-900 mb-2">Califica tu experiencia</h1> <p class="text-gray-500">Tu opinión ayuda a otros clientes</p></div> <div class="p-4 bg-gray-50 border-b border-gray-100"><div class="flex items-center gap-4"><div class="w-14 h-14 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 text-xl font-bold"><!></div> <div><p class="font-semibold text-gray-900"> </p> <p class="text-sm text-gray-500"> </p> <p class="text-xs text-gray-400"> </p></div></div></div> <form method="POST" class="p-6 space-y-6"><input type="hidden" name="therapist_id"/> <div class="text-center"><p class="text-sm font-medium text-gray-700 mb-3">¿Cómo fue tu experiencia?</p> <div class="flex justify-center gap-2"></div> <input type="hidden" name="rating"/> <p class="text-sm text-gray-500 mt-2"><!></p></div> <div><label for="comment" class="block text-sm font-medium text-gray-700 mb-1">Cuéntanos más (opcional)</label> <textarea id="comment" name="comment" rows="4" class="input-wellness resize-none" placeholder="¿Qué te gustó? ¿Qué podría mejorar?"></textarea></div> <div class="flex items-start gap-3"><input type="checkbox" id="is_public" name="is_public" class="h-5 w-5 text-primary-600 border-gray-300 rounded focus:ring-primary-500 mt-0.5"/> <div><label for="is_public" class="font-medium text-gray-700 cursor-pointer">Hacer pública mi reseña</label> <p class="text-sm text-gray-500">Tu reseña será visible para otros clientes en el perfil del terapeuta</p></div></div> <div class="flex gap-3"><a href="/bookings" class="flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-center font-medium">Cancelar</a> <button type="submit" class="flex-1 btn-primary-gradient py-3 disabled:opacity-50 font-medium"> </button></div></form></div> <div class="mt-6 bg-blue-50 border border-blue-200 rounded-xl p-4"><h3 class="font-medium text-blue-800 mb-2">Consejos para una buena reseña</h3> <ul class="text-sm text-blue-700 space-y-1"><li>• Sé específico sobre lo que te gustó o no</li> <li>• Menciona aspectos como puntualidad, profesionalismo y resultados</li> <li>• Sé respetuoso y constructivo en tus comentarios</li></ul></div>',1),Fe=y('<div class="max-w-lg mx-auto"><!></div>');function ta(le,o){Re(o,!0);let v=R(5),W=R(""),Z=R(!0),L=R(!1),P=R(0);function ne(d){return new Date(d).toLocaleDateString("es-MX",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}var T=Fe();Pe("azmkya",d=>{Me(()=>{De.title="Dejar Reseña - Plenura"})});var de=t(T);{var ve=d=>{var p=Ve(),f=s(t(p),4),k=t(f);a(f);var M=s(f,2);{var w=j=>{var C=Ue(),D=t(C),S=t(D);a(D),a(C),_(()=>m(S,`"${o.data.existingReview.comment??""}"`)),i(j,C)};u(M,j=>{o.data.existingReview.comment&&j(w)})}J(2),a(p),_(()=>m(k,`Calificaste esta cita con ${o.data.existingReview.rating??""} estrellas`)),i(d,p)},ce=d=>{var p=Ae(),f=E(p),k=s(t(f),2),M=t(k),w=t(M),j=t(w);{var C=e=>{var r=Xe();_(()=>{oe(r,"src",o.data.booking.therapists.users.avatar_url),oe(r,"alt",o.data.booking.therapists.users.full_name)}),i(e,r)},D=e=>{var r=h();_(l=>m(r,l),[()=>o.data.booking.therapists.users.full_name[0].toUpperCase()]),i(e,r)};u(j,e=>{o.data.booking.therapists.users.avatar_url?e(C):e(D,!1)})}a(w);var S=s(w,2),Q=t(S),me=t(Q,!0);a(Q);var q=s(Q,2),ue=t(q,!0);a(q);var $=s(q,2),pe=t($,!0);a($),a(S),a(M),a(k);var H=s(k,2),O=t(H);N(O);var U=s(O,2),V=s(t(U),2);Be(V,20,()=>[1,2,3,4,5],Ee,(e,r)=>{var l=Ye();l.__click=()=>c(v,r,!0);var G=t(l);a(l),_(()=>qe(G,0,`w-10 h-10 ${(n(P)||n(v))>=r?"text-amber-400":"text-gray-300"} transition-colors`)),se("mouseenter",l,()=>c(P,r,!0)),se("mouseleave",l,()=>c(P,0)),i(e,l)}),a(V);var X=s(V,2);N(X);var ee=s(X,2),fe=t(ee);{var be=e=>{var r=h("Muy malo");i(e,r)},xe=e=>{var r=K(),l=E(r);{var G=b=>{var z=h("Malo");i(b,z)},_e=b=>{var z=K(),he=E(z);{var ye=x=>{var B=h("Regular");i(x,B)},ke=x=>{var B=K(),we=E(B);{var je=g=>{var I=h("Bueno");i(g,I)},Ce=g=>{var I=h("Excelente");i(g,I)};u(we,g=>{n(v)===4?g(je):g(Ce,!1)},!0)}i(x,B)};u(he,x=>{n(v)===3?x(ye):x(ke,!1)},!0)}i(b,z)};u(l,b=>{n(v)===2?b(G):b(_e,!1)},!0)}i(e,r)};u(fe,e=>{n(v)===1?e(be):e(xe,!1)})}a(ee),a(U);var Y=s(U,2),ae=s(t(Y),2);Se(ae),a(Y);var A=s(Y,2),te=t(A);N(te),J(2),a(A);var re=s(A,2),F=s(t(re),2),ge=t(F,!0);a(F),a(re),a(H),Te(H,(e,r)=>{var l;return(l=Qe)==null?void 0:l(e,r)},()=>()=>(c(L,!0),async({update:e})=>{await e(),c(L,!1)})),a(f),J(2),_(e=>{m(me,o.data.booking.therapists.users.full_name),m(ue,o.data.booking.therapist_services.services.name_es||o.data.booking.therapist_services.services.name),m(pe,e),ie(O,o.data.booking.therapist_id),ie(X,n(v)),F.disabled=n(L),m(ge,n(L)?"Enviando...":"Enviar reseña")},[()=>ne(o.data.booking.scheduled_at)]),He(ae,()=>n(W),e=>c(W,e)),Oe(te,()=>n(Z),e=>c(Z,e)),i(d,p)};u(de,d=>{o.data.existingReview?d(ve):d(ce,!1)})}a(T),i(le,T),Le()}ze(["click"]);export{ta as component};
